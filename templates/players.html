{% extends "layout.html" %}
{% block body %}
    <div class="container">
        <div class="row">
            <div class="col-lg-6">
                <br>
                <h4>{{ player_summary_info["DISPLAY_FIRST_LAST"][0] }} #{{ player_summary_info["JERSEY"][0] }} {{ player_summary_info["POSITION"][0] }}</h4>
                <h4>
                    {% if (player_summary_info["TEAM_ABBREVIATION"][0] in team_img) %}
                    {% if (team_img[player_summary_info["TEAM_ABBREVIATION"][0]]["img"]) %}
                        <img class="team-logo-sm" src="/static/{{ team_img[player_summary_info['TEAM_ABBREVIATION'][0]]['img'] }}">
                    {% endif %}
                    {% endif %}
                    <a class="nounderline dark-grey" href="/teams/{{ player_summary_info['TEAM_ID'][0] }}">{{ player_summary_info['TEAM_CITY'][0] }} {{ player_summary_info['TEAM_NAME'][0] }}</a>
                </h4>
                {% if player_headshot %}
                    <img class="player-headshot" src={{ player_headshot }}>
                {% endif %}
                <ul class="list-unstyled">
                    <li><b>Height:</b> {{ player_summary_info['HEIGHT'][0] }}</li>
                    <li><b>Weight:</b> {{ player_summary_info['WEIGHT'][0] }} lbs</li>
                    <li><b>Born:</b> {{pretty_birth_date}}</li>
                    <li><b>Age:</b> {{ age }}</li>
                    <li><b>From:</b> {{ player_summary_info['SCHOOL'][0] }}</li>
                    <li><b>NBA Debut:</b> {{ player_summary_info['DRAFT_YEAR'][0] }}</li>
                    {% if player_summary_info['DRAFT_ROUND'][0] == "Undrafted" %}
                    <li><b>Draft:</b> {{ player_summary_info['DRAFT_ROUND'][0] }}</li>
                    {% else %}
                    <li><b>Draft:</b> Round {{ player_summary_info['DRAFT_ROUND'][0] }} Number {{ player_summary_info['DRAFT_NUMBER'][0] }}</li>
                    {% endif %}
                    <li><b>Years in NBA:</b> {{ player_summary_info['SEASON_EXP'][0] }}</li>
                    <li><b>Active years:</b> {{ player_summary_info['FROM_YEAR'][0] }} - {{ player_summary_info['TO_YEAR'][0] }}</li>
                </ul>
            </div>
        </div>
        <br>
        <h4>{{ season }}</h4>
        <table class="table table-sm">
            <thead>
                <tr class="bg-danger text-white">
                    <th class="text-lg-center">AVG PTS</th>
                    <th class="text-lg-center">AVG REB</th>
                    <th class="text-lg-center">AVG AST</th>
                    <th class="text-lg-center">PLAYER IMPACT</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td class="text-lg-center">{{ headline_stats["PTS"][0] }}</td>
                    <td class="text-lg-center">{{ headline_stats["REB"][0] }}</td>
                    <td class="text-lg-center">{{ headline_stats["PIE"][0] }}</td>
                    <td class="text-lg-center">{{ headline_stats["AST"][0] }}</td>
                </tr>
            </tbody>
        </table>
        {% if not playoffs_player_games.empty %}
        <h4>Playoffs</h4>
        <table class="player-games-datatable table table-sm">
            <thead>
                <tr class="bg-warning text-white">
                    <th class="text-lg-center">DATE</th>
                    <th class="bg-primary text-lg-center">MATCH</th>
                    <th class="bg-primary">W/L</th>
                    <th class="bg-primary">MIN</th>
                    <th class="bg-primary">PTS</th>
                    <th class="bg-primary">REB</th>
                    <th class="bg-primary">AST</th>
                    <th class="bg-primary boxscore-column-width">FG</th>
                    <th class="bg-primary">FG%</th>
                    <th class="bg-primary boxscore-column-width">3P</th>
                    <th class="bg-primary">3P%</th>
                    <th class="bg-primary boxscore-column-width">FT</th>
                    <th class="bg-primary">FT%</th>
                    <th class="bg-primary">OREB</th>
                    <th class="bg-primary">DREB</th>
                    <th class="bg-primary">STL</th>
                    <th class="bg-primary">BLK</th>
                    <th class="bg-primary">TOV</th>
                    <th class="bg-primary">PF</th>
                    <th class="bg-primary">+/-</th>
                </tr>
            </thead>
            <tbody>
                {% for i in playoffs_player_games.index %}
                <tr>
                    <th class="text-lg-center">{{ playoffs_player_games["GAME_DATE"][i] }}</th>
                    <th class="text-lg-center"><a class="nounderline" href="/boxscores/{{playoffs_player_games['Game_ID'][i]}}">{{ playoffs_player_games['MATCHUP'][i] }}</a></th>
                    <td>{{ playoffs_player_games['WL'][i] }}</td>
                    <td>{{ playoffs_player_games['MIN'][i] }}</td>
                    <td>{{ playoffs_player_games['PTS'][i] }}</td>
                    <td>{{ playoffs_player_games['REB'][i] }}</td>
                    <td>{{ playoffs_player_games['AST'][i] }}</td>
                    <td>{{ playoffs_player_games['FGM'][i] }}-{{ playoffs_player_games['FGA'][i] }}</td>
                    {% if playoffs_player_games['FG_PCT'][i] %}
                        <td>{{'%0.1f'| format(playoffs_player_games['FG_PCT'][i] * 100|float)}}</td>
                    {% else %}
                        <td>0.0</td>
                    {% endif %}
                        <td>{{ playoffs_player_games['FG3M'][i] }}-{{ playoffs_player_games['FG3A'][i] }}</td>
                    {% if playoffs_player_games['FG_PCT'][i] %}
                        <td>{{'%0.1f'| format(playoffs_player_games['FG3_PCT'][i] * 100|float) }}</td>
                    {% else %}
                        <td>0.0</td>
                    {% endif %}
                        <td>{{ playoffs_player_games['FTM'][i] }}-{{ playoffs_player_games['FTA'][i] }}</td>
                    {% if playoffs_player_games['FT_PCT'][i] %}
                        <td>{{'%0.0f'| format(playoffs_player_games['FT_PCT'][i] * 100|float) }}</td>
                    {% else %}
                        <td>0</td>
                    {% endif %}
                    <td>{{ playoffs_player_games['OREB'][i] }}</td>
                    <td>{{ playoffs_player_games['DREB'][i] }}</td>
                    <td>{{ playoffs_player_games['STL'][i] }}</td>
                    <td>{{ playoffs_player_games['BLK'][i] }}</td>
                    <td>{{ playoffs_player_games['TOV'][i] }}</td>
                    <td>{{ playoffs_player_games['PF'][i] }}</td>
                    <td>{{ playoffs_player_games['PLUS_MINUS'][i] }}</td>
                </tr>
                {% endfor %}
            </tbody>
        </table>
        {% endif %}
    </div>

{% endblock %}